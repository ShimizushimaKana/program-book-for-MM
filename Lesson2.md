# 第二课：让计算机做计算

当你完成了第一课的内容后，恭喜你，你已经成功入坑，可以学习更有挑战性的内容了。

## 计算机的数学运算

计算机嘛，本质的功能就是计算。当你在网上看各种韩剧美剧综艺节目的时候，你的计算机（手机、iPad也是一种计算机）其实在进行着大量的运算，当然这些计算就比较复杂了。

所以还是让我们从最基本的运算开始吧！

```python
num1 = input('请输入第一个数')
num2 = input('请输入第二个数')
sum = num1 + num2  # 计算
print('两数之和为：', sum)
```

上面的代码很简单，就是将两个数相加，然后将计算结果显示出来。

当然，你也可以将上面的计算改为减法`-`、乘法`*`、除法`/`以及整数除法`//`（结果去掉小数部分）。

另外，这里也可以做乘方`**`和取模`%`运算。

```python
num1 = 2 ** 3  # 2的3次方，结果为8
num2 = 10 % 3  # 10对3取模（即取余数），结果是1
```

## 整数与浮点数

在计算机内部对于数字的表示有两种方法：一种是整数，另一种是浮点数。

整数应该很好理解，就是我们经常用的`1 2 3 4 ……`这样一点数字。

浮点数呢，也不难，比如说`0.5 0.33333 3.0`这样的数字。

但是 Python 对数字的理解和人类有所不同，`3.0`是个浮点数，而不是整数，也不能省略小数点直接写成`3`。

在计算时，参与运算的数据类型不同，出来结果的数据类型也是不一样的。

```python
a = 3 + 1    # 结果为4，整数
b = 3 + 1.0  # 结果为4.0，浮点数
```

那么怎么将整数和浮点数互相做转换呢？

Python 提供了两个函数：`int()`和`float()`

```python
a = int(3.14159)  # 浮点数转为整数，向下取整结果为3
b = float(3)      # 整数转为浮点数，结果为3.0
```

要注意哦，在计算机内部，整数比浮点数要精确（连个小数点都没有，凭什么说它精确！我程序写的少你别坑我啊！）

这牵扯到计算机内部对这两种数据类型的表示方法，整数比较简单，直接把数据放到内存的一块区域里就完事了，计算机读出数据以后直接就能用。

但是浮点数嘛，又要放正负号，又要放指数，又要放底数（能表示的位数还有限，多余的位数就丢了），总之参考数学中的科学计数法（2.01314×10^6）。在一定的近似之后，数字出现误差自然是不可避免的。

不信？

```python
print(1 / 3)  # 输出的结果是：0.3333333333333333，就这么长，计算机表示不出循环小数。
```

所以，如果是比较精确的计算还是以整数为主，到需要显示的时候再转换为浮点数（其实在银行系统里你存的钱也是用整数表示的，只不过单位不是元就是了）。

## 还有别的计算方法

如果你以为 Python 只能做加减乘除那可就图样图森破了。

Python 提供了一个非常强大的数学计算库

```python
import math  # 引入数学计算模块
print(math.sin(45))  # 计算正弦
print(math.sqrt(2))  # 计算开平方
print(math.log10(100))  # 计算以10为底的对数
print(math.e)  # 显示常数e
print(math.pi)  # 显示圆周率
 # 更多的函数可以查看 Python 提供的文档。
```

在这个地方需要有两点要注意：

1. 一个模块（库）需要在`import`后才能使用，不然 Python 会报 `NameError`。
2. 一个模块在引入后，需要通过`模块名.函数名()`或者`模块名.常量`这样的形式来调用模块中的内容。如果不想这样做可以这样写：
```python
from math import *  # 从math中引入其包括的所有内容
print(sin(45))
print(pi)
```

## 黑科技计算方法

计算机因使用二进制进行计算，于是我们就有了一些一般人不太容易理解的计算方法
```python
i = 1
print(i << 2)  # 4
print(i << 3)  # 8
i = 8
print(i >> 1)  # 4
i = 14
print(i & 5)  # 4
print(~i)  # -15
```

看到这里你是不是已经晕掉了，这都是什么计算方法？

上面说过计算机是使用二进制进行计算的，每一位除了0就是1，我可不可以对单独的某一位或者某几位进行运算呢？

于是我们就发现了一种新的计算方法叫**位运算**

位运算包括以下两类

1. 位移运算：左移（`>>`）、右移（`<<`）
2. 位逻辑运算：按位与（`&`）、按位或（`|`）、按位异或（`^`）、按位取反（`~`）

首先说位移运算，就是将一个二进制数整体向左（向右）移动一定的位数，用0补空缺。

1. 每右移一位，相当于这个数乘以2
2. 每左移一位，相当于这个数除以2

然后我们再说位逻辑运算：

1. 按位与：对两个数的每一个二进制位进行比较，相同位都为1时，输出此位结果为1  
比如 `11 & 13`，11(0b1011)和13(0b1101)进行按位与运算，可以看到1位和8位都为1，此时结果为0b1001，即十进制的9

2. 按位或：对两个数的每一个二进制位进行比较，相同位有一个为1时，输出此位结果为1  
比如 `10 | 12`，10(0b1010)和12(0b1100)进行按位或运算，1位都是0，此位输出0，其他位输出1，结果为0b1110，即十进制的14

3. 按位异或：对两个数的每一个二进制位进行比较，相同位不同时为0或1时，输出此位结果为1  
比如 `10 ^ 12`，10(0b1010)和12(0b1100)进行按位异或运算，结果为0b0110，即十进制的6

4. 按位取反：对一个数的每一位进行操作，如果某位为1，就变为0，如果为0，就变为1。  
Python 输出的结果是一个数加负号后再减一。如果要得到准确的结果，可以使用这个方法
```python
i = 13
print(~i & 15)
```

在计算机内部，位运算要比数学运算快很多，所以有时人们会利用乘法分配率和位运算来加快乘法的计算速度：
```python
i = 13
print((13 << 3) + (13 << 1))  # 130，相当于(13×8)+(13×2)=13×10=130
```

关于位运算，最后要注意的是：位运算只能用于整数。

说了这么多，想必你也头大了吧，别急，完成以下作业你就可以下课了：

* 同时输出两个数加减乘除的结果
* 输出一个数以e为底的对数
* 用位运算实现两个数的乘法（思考题）
